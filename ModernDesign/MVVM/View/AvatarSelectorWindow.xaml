<Window x:Class="ModernDesign.MVVM.View.AvatarSelectorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Choose Avatar"
        Width="600" Height="550"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">

    <Window.Resources>
        <!-- Estilo para los botones de avatar -->
        <Style x:Key="AvatarButtonStyle" TargetType="Border">
            <Setter Property="Width" Value="85"/>
            <Setter Property="Height" Value="85"/>
            <Setter Property="CornerRadius" Value="42.5"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#000000" BlurRadius="15" ShadowDepth="3" Opacity="0.3"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#22D3EE" BlurRadius="25" ShadowDepth="0" Opacity="0.8"/>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Estilo para botones de acción -->
        <Style x:Key="ActionButtonStyle" TargetType="Button">
            <Setter Property="Padding" Value="25,12"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#000000" BlurRadius="10" ShadowDepth="2" Opacity="0.2"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Opacity" Value="0.85"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Border Background="#0F172A" CornerRadius="16" Padding="30">
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="30" ShadowDepth="0" Opacity="0.5"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header con gradiente -->
            <Border Grid.Row="0" CornerRadius="12" Padding="20,15" Margin="0,0,0,25">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#6366F1" Offset="0"/>
                        <GradientStop Color="#8B5CF6" Offset="0.5"/>
                        <GradientStop Color="#EC4899" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>
                    <TextBlock Text="✨ Choose Your Avatar" 
                               FontSize="24" 
                               FontWeight="Bold" 
                               Foreground="White" 
                               FontFamily="Segoe UI"
                               HorizontalAlignment="Center"/>
                    <TextBlock Text="Select from our collection or upload your own" 
                               FontSize="12" 
                               Foreground="#E0E0E0" 
                               FontFamily="Segoe UI"
                               HorizontalAlignment="Center"
                               Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

            <!-- Sección de avatares predeterminados -->
            <TextBlock Grid.Row="1" 
                       Text="Default Avatars" 
                       FontSize="14" 
                       FontWeight="SemiBold" 
                       Foreground="#94A3B8" 
                       FontFamily="Segoe UI"
                       Margin="0,0,0,10"/>

            <!-- Grid de Avatares -->
            <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                <WrapPanel HorizontalAlignment="Center" VerticalAlignment="Top" MaxWidth="540">
                    <!-- Fila 1 -->
                    <Border x:Name="Avatar1" Tag="👤" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#22D3EE" Offset="0"/>
                                <GradientStop Color="#21b96b" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="👤" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar2" Tag="😎" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#F59E0B" Offset="0"/>
                                <GradientStop Color="#EF4444" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="😎" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar3" Tag="🎮" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#8B5CF6" Offset="0"/>
                                <GradientStop Color="#EC4899" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🎮" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar4" Tag="🚀" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#6366F1" Offset="0"/>
                                <GradientStop Color="#22D3EE" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🚀" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar5" Tag="💎" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#14B8A6" Offset="0"/>
                                <GradientStop Color="#3B82F6" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="💎" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <!-- Fila 2 - Nuevos avatares -->
                    <Border x:Name="Avatar6" Tag="🎨" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#F472B6" Offset="0"/>
                                <GradientStop Color="#A855F7" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🎨" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar7" Tag="🌟" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#FBBF24" Offset="0"/>
                                <GradientStop Color="#F59E0B" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🌟" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar8" Tag="🔥" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#EF4444" Offset="0"/>
                                <GradientStop Color="#DC2626" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🔥" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar9" Tag="⚡" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#FBBF24" Offset="0"/>
                                <GradientStop Color="#F97316" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="⚡" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar10" Tag="🎯" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#EF4444" Offset="0"/>
                                <GradientStop Color="#EC4899" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🎯" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <!-- Fila 3 - Más avatares -->
                    <Border x:Name="Avatar11" Tag="🌈" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#A78BFA" Offset="0"/>
                                <GradientStop Color="#EC4899" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🌈" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar12" Tag="🎭" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#8B5CF6" Offset="0"/>
                                <GradientStop Color="#6366F1" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🎭" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar13" Tag="🏆" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#FBBF24" Offset="0"/>
                                <GradientStop Color="#F59E0B" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🏆" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar14" Tag="🎪" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#F472B6" Offset="0"/>
                                <GradientStop Color="#EC4899" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🎪" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <Border x:Name="Avatar15" Tag="🌺" Style="{StaticResource AvatarButtonStyle}" MouseLeftButtonUp="Avatar_Click">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#EC4899" Offset="0"/>
                                <GradientStop Color="#EF4444" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.Background>
                        <TextBlock Text="🌺" FontSize="42" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <!-- Botón para subir imagen personalizada -->
                    <Border x:Name="CustomAvatarButton" 
                            Style="{StaticResource AvatarButtonStyle}" 
                            MouseLeftButtonUp="UploadCustomAvatar_Click"
                            Background="#1E293B"
                            BorderBrush="#475569"
                            BorderThickness="2">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="📁" FontSize="32" HorizontalAlignment="Center"/>
                            <TextBlock Text="Upload" FontSize="10" Foreground="#94A3B8" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                        </StackPanel>
                    </Border>
                </WrapPanel>
            </ScrollViewer>

            <!-- Botones de acción -->
            <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,25,0,0">
                <Button x:Name="CancelButton" 
                        Content="✕ Cancel" 
                        Style="{StaticResource ActionButtonStyle}"
                        Background="#475569"
                        Click="CancelButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                    CornerRadius="8" 
                                    Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>